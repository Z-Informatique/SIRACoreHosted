@inject IVersionDb versionDbService


@inject IDialogService dialogService
@inject ISnackbar snackBar

<MudDialog>
    <DialogContent>
        <MudToolBar Dense="true">
            <MudSpacer />
            <MudButton OnClick="(()=>AjoutModifier())" Variant="MudBlazor.Variant.Filled" Size="Size.Small" Class="mr-2" StartIcon="@Icons.Outlined.Add" Color="Color.Secondary">Ajouter</MudButton>
        </MudToolBar>
        <GenericList Elements="VersionDbs" Loading="_loading">
            <RadzenDataGrid @ref="grid" AllowFiltering="true" AllowPaging="true" AllowSorting="true" Data="@VersionDbs" TItem="VersionDb">
                <Columns>
                    <RadzenDataGridColumn TItem="VersionDb" Property="Db.Name" Title="Noyau" />
                    <RadzenDataGridColumn TItem="VersionDb" Property="Titre" Title="Version" />
                    <RadzenDataGridColumn TItem="VersionDb" Property="Noyau" Title="Sous version" />
                    <RadzenDataGridColumn TItem="VersionDb" Title="Actions" Width="50">
                        <Template Context="detail">
                            <MudMenu Size="Size.Small" Dense="true" Label="Menu" Variant="MudBlazor.Variant.Filled" EndIcon="@Icons.Filled.KeyboardArrowDown" IconColor="Color.Secondary">
                                <MudMenuItem OnClick="@(() => AjoutModifier(detail))">Modifier</MudMenuItem>
                                <MudDivider/>
                                <MudMenuItem OnClick="@(() => Delete(detail))">Supprimer</MudMenuItem>
                            </MudMenu>
                        </Template>
                    </RadzenDataGridColumn>
                </Columns>
            </RadzenDataGrid>
        </GenericList>
    </DialogContent>
</MudDialog>
