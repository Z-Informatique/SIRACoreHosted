@inject IUsers UserService

@inject IDialogService dialogService
@inject ISnackbar snackBar

<MudDialog>
    <DialogContent>
        <MudToolBar Dense="true">
            <MudSpacer />
            <MudButton OnClick="(()=>AjoutModifier())" Variant="MudBlazor.Variant.Filled" Size="Size.Small" Class="mr-2" StartIcon="@Icons.Outlined.Add" Color="Color.Secondary">Ajouter</MudButton>
        </MudToolBar>
        <GenericList Elements="Users" Loading="_loading">
            <RadzenDataGrid @ref="grid" AllowFiltering="true" AllowPaging="true" AllowSorting="true" Data="@Users" TItem="User">
                <Columns>
                    <RadzenDataGridColumn TItem="User" Property="Id" Title="#ID" />
                    <RadzenDataGridColumn TItem="User" Property="Nom" Title="Nom" />
                    <RadzenDataGridColumn TItem="User" Property="Prenom" Title="Prenom" />
                    <RadzenDataGridColumn TItem="User" Property="Email" Title="Email" />
                    <RadzenDataGridColumn TItem="User" Title="Actions" Width="50">
                        <Template Context="detail">
                            <MudMenu Size="Size.Small" Dense="true" Label="Menu" Variant="MudBlazor.Variant.Filled" EndIcon="@Icons.Filled.KeyboardArrowDown" IconColor="Color.Secondary">
                                <MudMenuItem OnClick="@(() => AjoutModifier(detail))">Modifier</MudMenuItem>
                                <MudDivider />
                                <MudMenuItem OnClick="@(() => Delete(detail))">Supprimer</MudMenuItem>
                            </MudMenu>
                        </Template>
                    </RadzenDataGridColumn>
                </Columns>
            </RadzenDataGrid>
        </GenericList>
    </DialogContent>
</MudDialog>
