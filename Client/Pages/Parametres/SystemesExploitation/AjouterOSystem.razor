@inject IOSystems oSystemService

@inject ITypeOS typeOsService
@inject ISnackbar snackBar

<MudDialog>
    <DialogContent>
        @if (error)
        {
            <MudAlert Severity="@Severity">@message</MudAlert>
        }
        <EditForm Model="@OSystem" OnValidSubmit="@Save">
            <MudGrid>
                <MudItem xs="12" sm="12" md="12">
                    <MudSelect T="int" @bind-Value="@OSystem.Title" Label="Choisir un OS" AnchorOrigin="Origin.BottomCenter" Variant="MudBlazor.Variant.Outlined" AdornmentColor="Color.Secondary">
                    <MudSelectItem Value="@Convert.ToInt32(0)">Système d'exploitation</MudSelectItem>
                    @foreach (var type in TypeOs)
                    {
                        <MudSelectItem Value="@type.TypeOsId">@type.TitreOs</MudSelectItem>
                    }
                </MudSelect>
                </MudItem>
                <MudItem xs="12" sm="12" md="12">
                    <MudTextField T="string"
                                  Label="Version"
                                  Variant="MudBlazor.Variant.Outlined"
                                  @bind-Value="OSystem.VersionO"
                                  For="@(() => OSystem.VersionO)" />
                </MudItem>
                <MudItem xl="12" xs="12" sm="12" md="12" Class="text-center my-4">
                    @if (IsBusy)
                    {
                        <MudProgressLinear Color="Color.Secondary" Size="Size.Small" Indeterminate="true" Class="ml-auto" />
                    }
                    else
                    {
                        <MudButton ButtonType="MudBlazor.ButtonType.Submit" Variant="MudBlazor.Variant.Filled" Color="Color.Secondary" Disabled="@(IsBusy)" Class="ml-auto">Enregistrer</MudButton>
                    }
                </MudItem>
            </MudGrid>
        </EditForm>
    </DialogContent>
</MudDialog>
