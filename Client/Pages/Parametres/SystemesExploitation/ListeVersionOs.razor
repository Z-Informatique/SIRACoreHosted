@inject IOSystems oSystemService

@inject IDialogService dialogService
@inject ISnackbar snackBar

<MudDialog>
    <DialogContent>
        <MudToolBar Dense="true">
            <MudSpacer />
            <MudButton OnClick="(()=>AjoutModifier())" Variant="Variant.Filled" Size="Size.Small" Class="mr-2" StartIcon="@Icons.Outlined.Add" Color="Color.Secondary">Ajouter</MudButton>
        </MudToolBar>
        <GenericList Elements="OSystems" Loading="_loading">
            <RadzenDataGrid @ref="grid" AllowFiltering="true" AllowPaging="true" AllowSorting="true" Data="@OSystems" TItem="OSystem">
                <Columns>
                    <RadzenDataGridColumn TItem="OSystem" Property="OId" Title="#ID" />
                    <RadzenDataGridColumn TItem="OSystem" Property="TypeO.TitreOs" Title="OS" />
                    <RadzenDataGridColumn TItem="OSystem" Property="VersionO" Title="Version" />
                    <RadzenDataGridColumn TItem="OSystem" Title="Actions" Width="50">
                        <Template Context="detail">
                            <MudMenu Size="Size.Small" Dense="true" Label="Menu" Variant="Variant.Filled" EndIcon="@Icons.Filled.KeyboardArrowDown" IconColor="Color.Secondary">
                                <MudMenuItem OnClick="@(() => AjoutModifier(detail))">Modifier</MudMenuItem>
                                <MudDivider/>
                                <MudMenuItem OnClick="@(() => Delete(detail))">Supprimer</MudMenuItem>
                            </MudMenu>
                        </Template>
                    </RadzenDataGridColumn>
                </Columns>
            </RadzenDataGrid>
        </GenericList>
    </DialogContent>
</MudDialog>
